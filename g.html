<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>GooglingGo!Japan</title>
	<style></style>
	<meta property="og:type" content="website">
</head>
<body>
	<script>
		const ggr = async () => {
			// #以降の文字列を取得
			const hash = location.hash.substring(1).replace(/&/g, "%26");
			if (!hash) {
				console.log("hash is empty");
				return;
			}
			console.log("hash is " + hash);
			
			const response = await fetch("https://www.googleapis.com/customsearch/v1?key=AIzaSyCCpKYlHvd81Za8mNfXmv04cmAtp0CcwDE&cx=471781583b19d4c94&lr=lang_ja&q=" + hash);
			const json = await response.json();
			console.log(json);
			const item = json.items[0];
			
			const ogtitle = document.createElement("meta");
			ogtitle.setAttribute("property", "og:title");
			ogtitle.setAttribute("content", item.title || "");
			document.head.appendChild(ogtitle);
			const ogdescription = document.createElement("meta");
			ogdescription.setAttribute("property", "og:description");
			ogdescription.setAttribute("content", item.snippet || "");
			document.head.appendChild(ogdescription);
		};
		ggr();
	</script>
</body>
</html>